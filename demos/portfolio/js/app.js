var categoryes = [
	{
		id     : 0,
		name   : "vector",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 1,
		name   : "rastr",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 2,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 3,
		name   : "vector",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 4,
		name   : "rastr",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 5,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 6,
		name   : "vector",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 7,
		name   : "rastr",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 8,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 9,
		name   : "vector",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 10,
		name   : "rastr",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 11,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},{
		id     : 12,
		name   : "vector",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 13,
		name   : "rastr",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 14,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},

	{
		id     : 15,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},{
		id     : 16,
		name   : "vector",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 17,
		name   : "rastr",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 18,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 19,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},{
		id     : 20,
		name   : "vector",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 21,
		name   : "rastr",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},


		],
	},
	{
		id     : 22,
		name   : "js",
		image  : "img/vector/cake.svg",
		filter : "url(#hexFilter)",
		mainColor:"#EF7F1A",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:1,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:2,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:3,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:5,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:7,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:9,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:10,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:11,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg"
			},
			{
				id:13,
				protoPhoto:"img/vector/iceCream.svg"
			},
		],
	},
	{
		id     : 23,
		name   : "js",
		image  : "img/vector/iceCream.svg",
		filter : "url(#hexFilter)",
		mainColor:"#7690C9",
		works  : 
		[
			{
				id:0,
				protoPhoto:"img/vector/iceCream.svg",
				data:
				{
					mainColor:"#7690C9",
					image:"img/vector/iceCream.svg",
					width:500,
					height:500,
				}
			},
			{
				id:1,
				protoPhoto:"img/vector/dartVeider.svg",
				data:
				{
					mainColor:"#010106",
					image:"img/vector/dartVeider.svg",
					width:499,
					height:312,
				}
			},
			{
				id:2,
				protoPhoto:"img/vector/cake.svg",
				data:
				{
					mainColor:"#EF7F1A",
					image:"img/vector/cake.svg",
					width:500,
					height:500,
				}
			},
			{
				id:3,
				protoPhoto:"img/vector/cola.svg",
				data:
				{
					mainColor:"#E31E24",
					image:"img/vector/cola.svg",
					width:500,
					height:500,
				}
			},
			{
				id:4,
				protoPhoto:"img/vector/iceCream.svg",
				data:
				{
					mainColor:"#7690C9",
					image:"img/vector/iceCream.svg",
					width:500,
					height:500,
				}
			},
			{
				id:5,
				protoPhoto:"img/vector/finias.svg",
				data:
				{
					mainColor:"#FEFEFE",
					image:"img/vector/finias.svg",
					width:500,
					height:406,
				}
			},
			{
				id:6,
				protoPhoto:"img/vector/iceCream.svg",
				data:
				{
					mainColor:"#7690C9",
					image:"img/vector/iceCream.svg",
					width:500,
					height:500,
				}
			},
			{
				id:7,
				protoPhoto:"img/vector/sweet.svg",
				data:
				{
					mainColor:"#E31E24",
					image:"img/vector/sweet.svg",
					width:500,
					height:500,
				}
			},
			{
				id:8,
				protoPhoto:"img/vector/iceCream.svg",
				data:
				{
					mainColor:"#7690C9",
					image:"img/vector/iceCream.svg",
					width:500,
					height:500,
				}
			},
			{
				id:9,
				protoPhoto:"img/vector/kitty.svg",
				data:
				{
					mainColor:"#FEFEFE",
					image:"img/vector/kitty.svg",
					width:500,
					height:500,
				}
			},
			{
				id:10,
				protoPhoto:"img/vector/dartVeider.svg",
				data:
				{
					mainColor:"#010106",
					image:"img/vector/dartVeider.svg",
					width:499,
					height:312,
				}
			},
			{
				id:11,
				protoPhoto:"img/vector/cake.svg",
				data:
				{
					mainColor:"#EF7F1A",
					image:"img/vector/cake.svg",
					width:500,
					height:500,
				}
			},
			{
				id:12,
				protoPhoto:"img/vector/iceCream.svg",
				data:
				{
					mainColor:"#7690C9",
					image:"img/vector/iceCream.svg",
					width:500,
					height:500,
				}
			},
			{
				id:13,
				protoPhoto:"img/vector/kitty.svg",
				data:
				{
					mainColor:"#FEFEFE",
					image:"img/vector/kitty.svg",
					width:500,
					height:500,
				}
			},
		],
	}

];


class Controll
{
	constructor(opt)
	{
		this.id               = RandID(opt.id);
		this.center           = null;
		this.target           = null;
		this.category         = opt.category;
		this.activeWork       = null;
		this.viewElement      = null;
		this.viewShowed       = false;
		this.controllShowed   = false;
		this.animationFinish  = true;
		this.firstBtn         = null;
		this.secondBtn        = null;
		this.thirdBtn         = null;
		this._points1         = null;
		this._points2         = null;
		this._points3         = null;
		this.bodyGroup        = opt.body;
		this.viewContainer    = opt.viewContainer;
		this.workTarget       = null;
		this.newxtWorkTarget  = null;

		this.init(opt.viewContainer,opt.container);
	}

	init(viewContainer,container)
	{
		this.viewElement = viewContainer.polyline().attr("id","viewElement");
		this.firstBtn    = container.polyline().attr("id","firstBtnController").attr({style:"fill:black"});
		this.secondBtn   = container.polyline().attr("id","secondBtnController").attr({style:"fill:green"});
		this.thirdBtn    = container.polyline().attr("id","thirdBtnController").attr({style:"fill:black"});

		this.workTarget      = viewContainer.image();
		this.newxtWorkTarget = viewContainer.image();
	}

	showControll(dot2)
	{
		if(!this.animationFinish){return false;}
		this.animationFinish = false;
		var dot1 = {x:dot2.x - this.activeWork.category.parent.grid.widthHex,y:dot2.y};
		var dot3 = {x:dot2.x + this.activeWork.category.parent.grid.widthHex,y:dot2.y};

		var tmp       = Object.assign({},this.activeWork);
		tmp.center    = dot1;
		var points1   = this._initSecondCoords(tmp);
		this._points1 = this._initFirstCoords(tmp);
		this.firstBtn.attr({points:this._points1});

		tmp.center    = dot2;
		var points2   = this._initSecondCoords(tmp);
		this._points2 = this._initFirstCoords(tmp);
		this.secondBtn.attr({points:this._points2});

		tmp.center    = dot3;
		var points3   = this._initSecondCoords(tmp);
		this._points3 = this._initFirstCoords(tmp);
		this.thirdBtn.attr({points:this._points3});

		var that = this;

		anime({
            targets: ["#firstBtnController"],
            points:points1.join(','),
            duration:200,
            easing:'linear',
            complete:function(){},
        });

        anime({
            targets: ["#secondBtnController"],
            points:points2.join(','),
            duration:200,
            easing:'linear',
            complete:function(){},
        });

        anime({
            targets: ["#thirdBtnController"],
            points:points3.join(','),
            duration:200,
            easing:'linear',
            complete:function(){that.animationFinish = true;that.controllShowed = true;},
        });
		

	}

	hideControll(callback)
	{
		if(!this.animationFinish){return false;}

		this.animationFinish = false;
		var that = this;
		anime({
            targets: ["#firstBtnController"],
            points:this._points1.join(','),
            duration:200,
            easing:'linear',
            complete:function(){},
        });

        anime({
            targets: ["#secondBtnController"],
            points:this._points2.join(','),
            duration:200,
            easing:'linear',
            complete:function(){},
        });

        anime({
            targets: ["#thirdBtnController"],
            points:this._points3.join(','),
            duration:200,
            easing:'linear',
            complete:function(){that.animationFinish = true;that.controllShowed = false;callback?callback():false},
        });
	}

	next()
	{
		if(!this.animationFinish){return false;}
		this.animationFinish =false;
		var id = this.activeWork.id;
		var category = this.activeWork.category;
		var nextActiveWork = null;
		
		if(category.works[id+1])
		{
		 	nextActiveWork = category.works[id+1];
		}
		else
		{
			nextActiveWork = category.works[0];
		}
		var that = this;
		this.activeWork = nextActiveWork;
		anime({
      		targets: ["#viewElement"],
      		fill:this.activeWork.data.mainColor,
		    duration:500,
		    easing:'linear',
		    complete:function(){that.animationFinish = true;}
		});
		this.workTarget.attr({href:this.activeWork.data.image});
		this._setWorkImgPosition();
	}

	previous()
	{
		if(!this.animationFinish){return false;}
		this.animationFinish =false;
		var id = this.activeWork.id;
		var category = this.activeWork.category;
		var previousActiveWork = null;
		
		if(category.works[id-1])
		{
		 	previousActiveWork = category.works[id-1];
		}
		else
		{
			previousActiveWork = category.works[category.works.length-1];
		}
		
		this.activeWork = previousActiveWork;
		var that = this;
		anime({
      		targets: ["#viewElement"],
      		fill:this.activeWork.data.mainColor,
		    duration:500,
		    easing:'linear',
		    complete:function(){that.animationFinish = true;}
		});
		this.newxtWorkTarget.attr({opacity:0,href:this.activeWork.data.image});
		this.workTarget.attr({href:this.activeWork.data.image});
		this._setWorkImgPosition();

	}

	closeView(callback)
	{
		if(!this.animationFinish || !this.activeWork){return false;}
		var that = this;
		that.activeWork.hideWork(that.workTarget);
		that.animationFinish = false;
		anime({
            targets: ["#viewElement"],
            points:that._initSecondCoords(that.activeWork).join(','),
            duration:200,
            easing:'linear',
            complete:function(){
            	anime({
            		targets: ["#viewElement"],
		            points:that._initFirstCoords(that.activeWork).join(','),
		            duration:100,
		            easing:'linear',
		            complete:function()
		            {
		            	that.activeWork.category.parent.grid.snap.attr("class","HexGrid");
		            	that.bodyGroup.select(".CategoryGrid").before(that.bodyGroup.select(".HexGrid"));
		            	that.activeWork = null;
		            	that.animationFinish = true;
		            	that.viewShowed = false;
		            	callback?callback():false;
		            }
            	});
            },
            });
	}

	openView(activeWork)
	{
		this.activeWork = activeWork;

		if(!this.animationFinish || !this.activeWork){return false;}
		var that = this;

		that.animationFinish = false;
		that.viewElement.attr("points",that._initFirstCoords(that.activeWork).join(','));
		that.viewElement.attr({style:"fill:"+that.activeWork.data.mainColor});
		that.bodyGroup.select(".workView").after(that.bodyGroup.select(".HexGrid"));
				anime({
                targets: ["#viewElement"],
                points:that._initSecondCoords(that.activeWork).join(','),
                duration:100,
                easing:'linear',
                complete:function(){
                    anime({
	                    targets: ["#viewElement"],
	                    points:that._initFirdCoords(that.activeWork).join(','),
	                    duration:200,
	                    easing:'linear',
	                    complete:function()
	                    {
	                    	that.viewShowed = true;
	                    	that.animationFinish = true;
	                    	that.activeWork.category.parent.haveNotPlace = false;
	                    	that.activeWork.category.parent.grid.snap.attr("class","HexGrid viewHexGrid");
	                    	
	                    	that.workTarget.attr({href:that.activeWork.data.image});
	                    	that.activeWork.showWork(that.workTarget)
	                    	that._setWorkImgPosition(1);
	                    },
                    });
                },
                });
	}
	_setWorkImgPosition(isFirstView)
	{
		if(isFirstView)
		{
			this.workTarget.attr("width",this.activeWork.data.width).attr("height",this.activeWork.data.height)
		}
		var coords = this.workTarget.node.getBoundingClientRect();
		var width  = coords.width;
		var height = coords.height;

	    var s  = this.activeWork.data.height/this.activeWork.data.width;
	    var s2 = this.activeWork.data.width/this.activeWork.data.height;
	    var winWidth  = document.documentElement.clientWidth;
		var winHeight = document.documentElement.clientHeight;
		
		if(winWidth > winHeight)
		{
			if(winWidth<=winHeight*s2)
			{
				this.workTarget.attr("width",winWidth).attr("height",winWidth*s);
				this.workTarget.attr("x",0).attr("y",(winHeight-winWidth*s)/2);
			}
			else
			{
				this.workTarget.attr("width",winHeight*s2).attr("height",winHeight);
				this.workTarget.attr("x",(winWidth-winHeight*s2)/2).attr("y",0);
			}

		}
		else
		{
			this.workTarget.attr("width",winWidth).attr("height",winHeight*s);
			this.workTarget.attr("x",0).attr("y",(winHeight-winHeight*s)/2);
		}
	}

	_getOffset(bodyGroup)
	{
		var transform = bodyGroup.node.getAttribute("transform")
		if(transform)
		{
			transform = transform.split('(')[1];
			transform = transform.split(')')[0];
			transform = transform.split(',');
			var offsetX   = transform[4];
			var offsetY   = transform[5];
			return {x:offsetX,y:offsetY};
		}
		else
		{
			return{x:0,y:0}
		}
	}

	_initFirstCoords(work)
	{
		var coords  = [0,0,0,0,0,0,0,0,0,0,0,0,0,0];
		for(var i=0; i<coords.length;i+=2)
		{
			coords[i]   = work.center.x + coords[i];
			coords[i+1] = work.center.y + coords[i+1];
		}
		return coords;
	}

	_initSecondCoords(work)
	{
		var coords = [6.123233995736766e-17, -1, 0.8660254037844386, -0.5, 0.8660254037844387, 0.49999999999999983, 6.123233995736766e-17, 1, -0.8660254037844385, 0.5000000000000003, -0.866025403784439, -0.4999999999999994, -1.8369701987210297e-16, -1];
		for(var i=0; i<coords.length;i+=2)
		{
			coords[i]   = (work.center.x + coords[i]   * work.category.parent.grid.hexRadius).toFixed(6);
			coords[i+1] = (work.center.y + coords[i+1] * work.category.parent.grid.hexRadius).toFixed(6);
		}
		return coords;			
	}

	_initFirdCoords(work)
	{
		var offset = this._getOffset(this.bodyGroup);
	    var thisWidth  = document.documentElement.clientWidth;
	    var thisHeight = document.documentElement.clientHeight;
	    var newCoords  = [
		    work.center.x,0,
		    thisWidth-offset.x,0,
		    thisWidth-offset.x,thisHeight-offset.y,
		    work.center.x,thisHeight-offset.y,
		    0,thisHeight-offset.y,
		    0,0,
		    work.center.x,0
	    ];
	    return newCoords;		
	}
}

class Dot 
{
	constructor(x,y)
	{
		this.x = x;
		this.y = y;
	}
}


var RandID = function(num)
{
	var length = 8;
	var time = +new Date();
		 
	var _getRandomInt = function( min, max ) 
	{
		return Math.floor( Math.random() * ( max - min + 1 ) ) + min;
	}

	var ts = time.toString();
	var parts = ts.split( "" ).reverse();
	var id = "";
	for( var i = 0; i < length; ++i ) 
	{
		var index = _getRandomInt( 0, parts.length - 1 );
		id += parts[index];
	}
	return num+"-"+id;

}

class Hex
{
	get center()   {return this._center;}
	set center(obj)
	{
		this._center = obj;
		this.initCoords();
	}

	constructor(dot,radius)
	{
		this.center = dot;
		this.radius = radius;
		this.target = null;
		this.coords = null;
		this.initCoords();
	}

	render(snap)
	{
		if(snap)
		{
			this.target = snap.polyline(this.coords);
		}
		else
		{
			this.target.attr('points',this.coords.join(','));
		}
	}

	initCoords()
	{
		//подготовленные значения для точек
		var coords = [6.123233995736766e-17, -1, 0.8660254037844386, -0.5, 0.8660254037844387, 0.49999999999999983, 6.123233995736766e-17, 1, -0.8660254037844385, 0.5000000000000003, -0.866025403784439, -0.4999999999999994, -1.8369701987210297e-16, -1];
		for(var i=0; i<coords.length;i+=2)
		{
			coords[i]   = this.center.x + coords[i]   * this.radius;
			coords[i+1] = this.center.y + coords[i+1] * this.radius;
		}
		this.coords = coords;
	}
}




class HexGrid
{
	constructor(opt)
	{
		this.hexs         = [];
		this.wWidth       = opt.wWidth;
		this.wHeight      = opt.wHeight;
		this.snap         = null;
		this.nWidth       = 0;
		this.nHeight      = 0;
		this.hexRadius    = opt.hexRadius;
		this.widthHex     = 2*(Math.sqrt(3)/2 * this.hexRadius);
		this.heightHex    = 2*this.hexRadius;
		this.indentTop    = this.heightHex / 4;
		this.indentLeft   = this.widthHex / 2;
		this.heightHexRow = 3/4 * this.heightHex;
		
		this.init();
	}

	init()
	{
		var needNHeight = this.needNHeight();
		var needNWidth  = this.needNWidth();

		this.nWidth  = needNWidth;
		this.nHeight = needNHeight;

		for(var ny = 0; ny < needNHeight; ny++)
		{
			for(var nx = 0; nx < needNWidth; nx++)
			{
				this.addHexInGrid(nx,ny);
			}
		}

	}

	render(snap,nx,ny)
	{
		if(snap)
		{
			for(var i=0; i<this.hexs.length; i++)
			{
				this.hexs[i].render(snap);
			}
			this.snap = snap; 
		}
		else
		{
			var needNHeight = this.needNHeight() + 1;
			var needNWidth  = this.needNWidth()  + 1;

			if(nx)needNWidth  = nx;
			if(ny)needNHeight = ny;

			if(needNHeight > this.nHeight)
			{
				for(var ny = this.nHeight; ny<needNHeight; ny++)
				{
					for(nx=0;nx<this.nWidth;nx++)
					{
						this.addHexInGridWithRender(nx,ny);
					}
				}
				this.nHeight = needNHeight;
			}

			if(needNWidth > this.nWidth)
			{
				for(var ny=0; ny< this.nHeight; ny++)
				{
					for(var nx = this.nWidth;nx<needNWidth; nx++)
					{
						this.addHexInGridWithRender(nx,ny);
					}
				}
				this.nWidth = needNWidth;
			}
		}
	}

	needNHeight()
	{
		return Math.ceil((this.wHeight + this.heightHex - this.indentTop)  / this.heightHexRow);
	}

	needNWidth()
	{
		return Math.ceil((this.wWidth  + this.indentLeft) / this.widthHex);
	}

	addHexInGridWithRender(nx,ny)
	{
		if(ny%2 == 0)
		{
			var hex = new Hex(this.getDotEvenRow(nx,ny),this.hexRadius);
			hex.render(this.snap);
			this.hexs.push(hex);
		}
		else
		{
			var hex = new Hex(this.getDotOddRow(nx,ny),this.hexRadius);
			hex.render(this.snap);
			this.hexs.push(hex);
		}
	}
	
	addHexInGrid(nx,ny)
	{
		if(ny%2 == 0)
		{
			this.hexs.push(new Hex(this.getDotEvenRow(nx,ny),this.hexRadius));
		}
		else
		{
			this.hexs.push(new Hex(this.getDotOddRow(nx,ny),this.hexRadius));
		}
	}

	getDotEvenRow(nx,ny)
	{
		return new Dot(nx*this.widthHex , ny*this.heightHexRow - this.indentTop);
	}

	getDotOddRow(nx,ny)
	{
		return new Dot(nx*this.widthHex + this.indentLeft , ny*this.heightHexRow - this.indentTop);
	}
}


class Category
{
	get center()   {return this._center;}
	set center(obj)
	{
		this._center = obj;
	}

	constructor(opt)
	{
		this.id     = opt.id;
		this.center = opt.center;
		this.name   = opt.name;
		this.target = null;
		this.image  = opt.image;
		this.filter = opt.filter;
		this.width  = opt.width;
		this.height = opt.height;
		this.works  = [];
		this.parent = opt.parent;
		this.active = false;
		this.worksRendered = false;
		this.mainColor = opt.mainColor,
		this.init(opt.data);
	}

	init(data,id)
	{
		var works  = data[this.id].works;
		if(works)
		{
			var count = works.length;
			for(var i = 0;i<count;i++)
			{
				var work = new Work({
					id:works[i].id,
					category:this,
					protoPhoto:works[i].protoPhoto,
					protoWidth:this.width,
					protoHeight:this.height,
					protoFilter:this.filter,
					data:works[i].data,
				});
				this.works.push(work);
			}
		}
	}

	render(snap,callback)
	{
		var x = this.center.x - this.width  / 2;
		var y = this.center.y - this.height / 2;
		var targetId = RandID(this.id);

		if(snap)
		{
			this.target = snap.image(this.image,x,y,this.width,this.height).attr("transform","s0");
			this.target.attr({clipPath:this.filter,id:targetId});
			this.show();
		}
		else
		{
			this.target.attr("x",x);
			this.target.attr("y",y);
		}
		callback?callback():0;
		
	}

	hide(callback)
	{
		if(!this.active)
		{
			callback?this.target.animate({transform:"S(0)"},300,mina.elastic(),callback):this.target.animate({transform:"S(0)"},300,mina.elastic());
		}else
		{
			callback?callback():false;
		}
	}

	show(callback)
	{
		var then = this;
		if(!then.active)
		{
			then.target.animate({transform:"S(0)"},0,mina.elastic(),function(){//обновляем координаты для snap
				callback?then.target.animate({transform:"S(1)"},300,mina.elastic(),callback):then.target.animate({transform:"S(1)"},300,mina.elastic());
			});
		}else
		{
			callback?callback():false;
		}

	}

	renderWorks(snap,callback)
	{
		this.parent.farawayPosY = 0;
		this.parent.farawayPosX = 0;

		var dots = this._getDotsWorks();

		if(snap && !this.worksRendered)
		{
			for(var i =0;i<dots.length;i++)
			{
				this.works[i].center = dots[i];
				this.works[i].renderProto(snap,callback);
			}
			this.worksRendered = true;
		}
		else
		{
			for(var i =0;i<dots.length;i++)
			{
				this.works[i].center = dots[i];
				this.works[i].renderProto(0,callback);
			}
		}
	}

	hideWorks(callback)
	{
		for(var i = 0;i<this.works.length;i++)
		{
			if(i == this.works.length-1)
			{
				callback?this.works[i].protoHide(callback):this.works[i].protoHide();
			}
			else
			{
				this.works[i].protoHide();
			}
			
		}
	}

	showWorks(callback)
	{
		for(var i = 0;i<this.works.length;i++)
		{
			if(i == this.works.length-1)
			{
				callback?this.works[i].protoShow(callback):this.works[i].protoShow();
			}
			else
			{
				this.works[i].protoShow();
			}
		}
	}
	_setFarPos(x,y)
	{
		if(x>this.parent.farawayPosX)this.parent.farawayPosX = x;
		if(y>this.parent.farawayPosY)this.parent.farawayPosY = y;
	}

	_getDotsWorks()
	{
		var grid = this.parent.grid;
		var wWidth = document.documentElement.clientWidth;
		var wHeight = document.documentElement.clientHeight;

		var dots        = [];
		var levels      = 50;
		var minEvenPosX = grid.widthHex*0.8;
		var minOddPosX  = grid.widthHex/5;
		var maxoddPosX  = (Math.floor(wWidth/grid.widthHex))*grid.widthHex;
		var maxEvenPosX = (Math.floor((wWidth - grid.indentLeft)/grid.widthHex))*grid.widthHex;
		var maxPosY     = (Math.floor( (wHeight - grid.indentTop)  / grid.heightHexRow ))*grid.heightHexRow;
		var minPosY     = grid.indentTop;
		var ElemsView   = 0;

		outer:for(var l = 1; l <= levels ;l++)//проходим по уровням
		{
			var angle    = 0;
			var step     = 2*Math.PI/6;
			var ndiam    = l*2;
			var dopElems = l-1;

			for(var i = 0; i < 6 ;i++)//проходим по вершинам
			{
				angle = step*i;

				var x1,y1;
				x1 = this.center.x + grid.widthHex * ndiam/2 * Math.cos(angle);
				y1 = this.center.y + grid.widthHex * ndiam/2 * Math.sin(angle);

				if(addDotIfCan(x1,y1,this)){break outer;}// добавляем вершину
				this._setFarPos(x1+grid.widthHex/2,y1+grid.heightHexRow/2);

				if(dopElems)
				{
					for(var d = 1; d <= dopElems ;d++)//дорисовываем елементы между вершинами если есть
					{
						var x,y;
						var x2 = this.center.x + grid.widthHex * ndiam/2 * Math.cos( step * (i+1) );
						var y2 = this.center.y + grid.widthHex * ndiam/2 * Math.sin( step * (i+1) );
						var diffX  = x1 - x2;
						var diffY  = y1 - y2;
						var shiftX = diffX / ( dopElems+1 );
						var shiftY = diffY / ( dopElems+1 );
						x = x1 - shiftX * d;
						y = y1 - shiftY * d;

						if(addDotIfCan(x,y,this)){break outer;}
						this._setFarPos(x+grid.widthHex/2,y+grid.heightHexRow/2);
					}
				}
				
			}

		}
		return dots;

		function addDotIfCan(x,y,then)
		{
			if(then.parent.haveNotPlace)
			{
				if(ElemsView < then.works.length)
				{
					if(y >= minPosY )
					{
						if(isEvenRow(y))
						{
							if(x >= minEvenPosX )
							{
								addDot(x,y);
							}
						}
						else
						{
							if(x >= minOddPosX )
							{
								addDot(x,y);
							}
						}
					}
				}
				else
				{
					return true;
				}
			}else
			{
				if(ElemsView < then.works.length)
				{
					if(y >= minPosY && y < maxPosY)
					{
						if(isEvenRow(y))
						{
							if(x >= minEvenPosX && x <= maxEvenPosX)
							{
								addDot(x,y);
							}
						}
						else
						{
							if(x >= minOddPosX && x <= maxoddPosX)
							{
								addDot(x,y);
							}
						}
					}
				}
				else
				{
					return true;
				}
			}
		}

		function addDot(x,y)
		{
			dots.push(new Dot(x,y));
			ElemsView++;
		}

		function isEvenRow(y)
		{
			return Math.ceil((y-grid.indentTop)/(grid.heightHexRow))%2==0;
		}
	}

}


class Work
{
	get protoCenter()   {return this._center;}
	set protoCenter(obj)
	{
		this._center = obj;
	}

	constructor(opt)
	{
		this.id          = opt.id;
		this.category      = opt.category;
		this.protoTarget = null;
		this.protoPhoto  = opt.protoPhoto;
		this.protoWidth  = opt.protoWidth;
		this.protoHeight = opt.protoHeight;
		this.protoCenter = opt.protoCenter;
		this.protoFilter = opt.protoFilter;
		this.data        = opt.data;

	}

	renderProto(snap,callback)
	{
		var x = this.center.x - this.protoWidth  / 2;
		var y = this.center.y - this.protoHeight / 2;
		var protoTargetId = RandID(this.id+"-"+this.category.id);

		if(snap)
		{
			this.protoTarget = snap.image(this.protoPhoto,x,y,this.protoWidth,this.protoHeight).attr("transform","S0");
			this.protoTarget.attr({clipPath:this.protoFilter,id:protoTargetId});
		}
		else
		{
			this.protoTarget.attr("x",x);
			this.protoTarget.attr("y",y);
		}
		callback?callback():false;
	}

	protoHide(callback)
	{
		callback?this.protoTarget.animate({transform:"s(0)"},300,mina.elastic(),callback):this.protoTarget.animate({transform:"s(0)"},300,mina.elastic());
	}

	protoShow(callback)
	{
		var then = this;
		then.protoTarget.animate({transform:"s(0)"},0,mina.elastic(),function(){
			callback?then.protoTarget.animate({transform:"s(1)"},300,mina.elastic(),callback):then.protoTarget.animate({transform:"s1)"},300,mina.elastic());
		})
		

	}

	showWork(img)
	{
		img.attr({transform:"S(1)"});
	}

	hideWork(img)
	{
		img.attr({transform:"S(0)"});
	}
}




class CategoryGrid
{
	get haveNotPlace()   {return this._haveNotPlace;}
	set haveNotPlace(value)
	{
		this._haveNotPlace = value;
		this.onhaveNotPlaceChanged(value);
	}

	constructor(opt)
	{
		this.grid         = opt.hexgrid;
		this.categoryes   = [];
		this.catCount     = 0;
		this.target       = null;
		this.farawayPosX  = 0;
		this.farawayPosY  = 0;
		this.cashRectDots = [];
		this.onhaveNotPlaceChanged = function(){};
		this.haveNotPlace = false;
		this.init(opt.data);
	}

	init(data)
	{
		this.catCount      = data.length;
		var widthAndHeight = this.grid.hexRadius*2;

		for(var i =0; i<this.catCount; i++)
		{
			this.categoryes[i] = new Category({
				id       : data[i].id,
				name     : data[i].name,
				image    : data[i].image,
				width    : widthAndHeight,
				height   : widthAndHeight,
				filter   : data[i].filter,
				parent   : this,
				data     : data,
				mainColor: data[i].mainColor,
			});
		}
	}

	show(callback)
	{
		this.farawayPosY = 0;
		this.farawayPosX = 0;

		for(var i=0;i<this.catCount; i++)
		{
			var category = this.categoryes[i];
			if(i == this.catCount-1)
			{
				callback?category.show(callback):category.show();
			}
			else
			{
				category.show();
			}
			if(category.center.x+this.grid.widthHex/2>this.farawayPosX){this.farawayPosX = category.center.x+this.grid.widthHex/2}
			if(category.center.y+this.grid.heightHexRow/2>this.farawayPosY){this.farawayPosY = category.center.y+this.grid.heightHexRow/2}
		}
	}

	hide(callback)
	{
		for(var i=0;i<this.catCount; i++)
		{
			if(i == this.catCount-1)
			{
				callback?this.categoryes[i].hide(callback):this.categoryes[i].hide();
			}
			else
			{
				this.categoryes[i].hide();
			}
		}
	}

	render(snap,callback)
	{
		if(snap)
		{
			var dots = this.getDots();
			for(var i=0; i<this.categoryes.length; i++)
			{
				this.categoryes[i].center = dots[i];
				this.categoryes[i].render(snap);
			}
			this.target = snap;
			
		}
		else
		{
			this.farawayPosX = 0;
			this.farawayPosY = 0;
			var newDots = this.getDots();
			for(var i =0; i<this.categoryes.length; i++)
			{
				if(i == this.categoryes.length-1)
				{
					this.categoryes[i].center = newDots[i];
					callback?this.categoryes[i].render(0,callback):this.categoryes[i].render();
				}
				else
				{
					this.categoryes[i].center = newDots[i];
					this.categoryes[i].render();
				}
			}
		}
	}

	disableAll()
	{
		var active = false;
		for(var i =0;i<this.categoryes.length;i++)
		{
			if(this.categoryes[i].active)
			{
				active = this.categoryes[i];
				this.categoryes[i].hideWorks();
				this.categoryes[i].active = false;
			}
		}
		return active;
	}

	getDots()
	{
		var dots         = [];
		var numbers      = [];
		var maxNY        = Math.floor( (this.grid.wHeight - this.grid.indentTop)  / this.grid.heightHexRow )-1;
		var maxNXEven    = Math.floor( (this.grid.wWidth  - this.grid.indentLeft) / this.grid.widthHex )-1;
		var maxNXOdd     = Math.floor(this.grid.wWidth / this.grid.widthHex)-1;
		var sizedublerow = maxNXEven + maxNXOdd;
		var countPlaces  = Math.floor(maxNY/2) * (maxNXEven +  maxNXOdd);

		if(maxNY%2 != 0)
		{
			countPlaces+= maxNXOdd;
		}

		if(countPlaces <= this.catCount)
		{
			this.haveNotPlace = true;
			dots = getRectDots(this);
		}
		else
		{
			this.haveNotPlace = false;
			for(var i=0; i<this.catCount; i++)
			{
				dots[i] = getDot(this);
			}
		}
		return dots;

	
		function getDot(target)
		{
			var dotNumber = Math.floor(Math.random() * countPlaces);
			if(dotNumber==0){dotNumber=1}
			var isset = false;

			for(var i=0; i<numbers.length; i++)
			{
				if(numbers[i] == dotNumber){isset=true;}
			}

			if(isset)
			{
				return getDot(target);
			}
			else
			{
				numbers.push(dotNumber);
				return getDotFromPosition(dotNumber,target);
			}
		}

		function getDotFromPosition(dotNumber,target)
		{
			var x,y;
			var out = dotNumber % sizedublerow;
			var pos = out - maxNXOdd;
			var dublerows = Math.floor(dotNumber/sizedublerow)*2;

			if(pos > 0)//не четная
			{
				x = pos * target.grid.widthHex;
				y = (dublerows + 2) * target.grid.heightHexRow - target.grid.indentTop;

			}

			if(pos <= 0)//четная
			{
				x = out * target.grid.widthHex - target.grid.indentLeft;
				y = (dublerows + 1) * target.grid.heightHexRow - target.grid.indentTop;
			}

			if(out == 0)
			{
				x = maxNXEven * target.grid.widthHex;
				y = dotNumber / sizedublerow * 2*target.grid.heightHexRow - target.grid.indentTop;
			}

			var thisFarPosX = x + target.grid.hexRadius;
			var thisFarPosY = y + target.grid.hexRadius;
			if(thisFarPosX > target.farawayPosX){target.farawayPosX = thisFarPosX;}
			if(thisFarPosY > target.farawayPosY){target.farawayPosY = thisFarPosY;}

			return new Dot(x,y);
		}

		function getRectDots(target)//если нехватает места
		{
			if(target.cashRectDots[0])
			{
				return target.cashRectDots;
			}
			else
			{
				var dots = [];
				var edge = Math.ceil(Math.sqrt(target.catCount));

				for(var i =0; i<edge; i++)
				{
					for(var j =0; j<edge; j++)
					{
						var number = i * edge + j;
						target.grid.render(0,edge+2,edge+2);//дорисовываем сетку для недостающих элементов

						if(i%2==0)
						{
							dots[number] = new Dot( 
								(j+1)*target.grid.widthHex - target.grid.indentLeft,
								i*target.grid.heightHexRow + target.grid.heightHexRow - target.grid.indentTop);
						}else
						{
							dots[number] = new Dot( 
								(j+1)*target.grid.widthHex ,
								i*target.grid.heightHexRow + target.grid.heightHexRow - target.grid.indentTop);
						}
					}
				}
				return dots;
			}
		}

	}
}

;var dependensis = (function(){
	var result = {};
	var wasMovingMouse = false;

	result.supportHoverEffectHexGrid = function(groupHexGrid)
	{
		groupHexGrid.mouseover(function(event){
			var target = event.target;
			target.setAttribute("class","dark");
			target.onmouseout=function(event)
			{
				setTimeout(function(event){target.setAttribute("class","")},500)
				
			};
		});

	}
	result.supportRenderingHexGrid = function(hexGrid)
	{
		window.addEventListener// дорендер сетки
		(	
			"resize",
			function()
			{
				body.animate({transform:'translate(0,0)'},500,mina.linear);

				var thisWidth  = document.documentElement.clientWidth;
				var thisHeight = document.documentElement.clientHeight;

				if(thisWidth - hexGrid.wWidth >= hexGrid.widthHex || thisHeight - hexGrid.wHeight >= hexGrid.heightHexRow)
				{
					hexGrid.wHeight = thisHeight;//устанавливаем новое состояние документа
					hexGrid.wWidth  = thisWidth;
					hexGrid.render();
				}
			}
		);
	}

	result.supportHoverEffectCatrgoryes = function(categoryGrid,container)
	{
		var hex = new Hex({x:-1000,y:-1000},categoryGrid.grid.hexRadius);
		hex.render(container);
		hex.target.attr("id","hoverCategory");
		var animation = true;

		categoryGrid.target.mouseover(function(event){
			if(animation)
			{
				var id = event.target.getAttribute("id").split("-")[0];
				var category = categoryGrid.categoryes[id];

				hex.target.attr("fill",category.mainColor);
				hex.center = category.center;
				hex.render();
				hex.target.attr("opacity",1);
				var bbox = hex.target.getBBox(); //bounding box, get coords and centre
				animation = false;
				hex.target.animate({ transform: "r1," + bbox.cx + ',' + bbox.cy + "S2," + hex.center.x + "," + hex.center.y,opacity:0}, 200,mina.linear(),function(){hex.target.attr("transform","");animation=true;});
			
			}

		});
	}

	result.supportResizingCategoryes = function(hexGrid,categoryGrid)
	{
		var lastWidth  = document.documentElement.clientWidth;
		var lastHeight = document.documentElement.clientHeight;
		var animationFinish = true;

		var timer;

		window.addEventListener("resize",resize);

		function resize(event){
			clearTimeout(timer);

			timer = setTimeout(resizeFunc, 650);
		}

		function resizeFunc(event)
		{
			if(animationFinish)
			{	
				var thisWidth  = document.documentElement.clientWidth;
				var thisHeight = document.documentElement.clientHeight;
				var activeCategy = false;

				if(thisWidth <= categoryGrid.farawayPosX || thisHeight <= categoryGrid.farawayPosY)
				{
					animationFinish = false;
					activeCategory  = categoryGrid.disableAll();
					hexGrid.wHeight = thisHeight;//устанавливаем новое состояние документа
					hexGrid.wWidth  = thisWidth;
					categoryGrid.hide(function()
					{
						categoryGrid.render(0,function()
						{				
							if(activeCategory)
							{
								activeCategory.renderWorks(0,function()
								{categoryGrid.haveNotPlace=false
									activeCategory.show();
									activeCategory.showWorks(function(){activeCategory.active=true;animationFinish = true;activeCategory=false;result.reRenderHexGrid(hexGrid,categoryGrid);})
								})
							}
							else
							{
								categoryGrid.show(function(){animationFinish = true;})
							}      
							
						})
					});
					lastHeight = thisHeight;
					lastWidth  = thisWidth;
					return false;
				}
				
				if(thisHeight - lastHeight >= 2*hexGrid.heightHexRow || thisWidth - lastWidth >= 2*hexGrid.widthHex)
				{
					animationFinish = false;
					activeCategory  = categoryGrid.disableAll();
					categoryGrid.hide(function()
					{
						categoryGrid.render(0,function()
						{					
							if(activeCategory)
							{categoryGrid.haveNotPlace=false
								activeCategory.renderWorks(0,function()
								{
									activeCategory.show();
									activeCategory.showWorks(function(){activeCategory.active=true;animationFinish = true;activeCategory=false;result.reRenderHexGrid(hexGrid,categoryGrid);})
								})
							}
							else
							{
								categoryGrid.show(function(){animationFinish = true;})
							}      
							
						})
					});
					// categoryGrid.hide(function(){categoryGrid.render(0,function(){categoryGrid.show(function(){if(activeCategory){activeCategory.renderWorks(0,function(){activeCategory.showWorks(function(){animationFinish = true;})})}       })})});
					lastHeight      = thisHeight;
					lastWidth       = thisWidth;
				}
			}
		}
	}

	result.supportMovingcategoryes = function(body,hexGrid,categoryGrid)
	{
		var startX,startY;
		var startShiftX;
		var startShiftY;
		var maxMovingWidth;
		var maxMovingHeight;

		categoryGrid.onhaveNotPlaceChanged = function(value)
		{
				function mouseDownListener(event)
				{
					maxMovingWidth  = hexGrid.nWidth  * hexGrid.widthHex     - hexGrid.indentLeft   - hexGrid.wWidth;
					maxMovingHeight = hexGrid.nHeight * hexGrid.heightHexRow - hexGrid.heightHexRow - hexGrid.wHeight;

					startX = event.clientX;
					startY = event.clientY;
					startShiftX = body.attr("transform").globalMatrix.e;
					startShiftY = body.attr("transform").globalMatrix.f;

					if(event.which == 1)
					{
						window.addEventListener("mousemove",move);
					}
				}

				function mouseUpListener(event)
				{
					wasMovingMouse = false;
					window.removeEventListener("mousemove",move);
				}

				function move(event)
				{
					if(categoryGrid.haveNotPlace)
					{
						wasMovingMouse = true;
						var matrix = new Snap.Matrix();
						var shiftX = event.clientX - startX + startShiftX;
						var shiftY = event.clientY - startY + startShiftY;

						if(shiftX >= 0)
						{
							shiftX = 0;
						}
						if(shiftX <=  -maxMovingWidth)
						{
							shiftX = -maxMovingWidth;
						}
						if(shiftY >= 0)
						{
							shiftY = 0;
						}
						if(shiftY <= -maxMovingHeight)
						{
							shiftY = -maxMovingHeight;
						}

						matrix.translate(shiftX,shiftY);
						body.attr({"transform":matrix});
					}
				}

			if(!value)
			{
				body.animate({transform:'translate(0,0)'},100,mina.linear);
				window.removeEventListener("mousedown", mouseDownListener);
				window.removeEventListener("mouseup", mouseUpListener);
			}
			else
			{
				window.addEventListener("mousedown", mouseDownListener);
				window.addEventListener("mouseup",mouseUpListener);
			}
		}
	}

	result.supportClickCategory = function(categoryGrid,worksGrid,hexGrid)
	{
		var animationFinish = true;
		categoryGrid.target.mousedown(function(event)
		{
			categoryGrid.target.node.onmouseup=mouseUp;
		});

		function mouseUp(event)
		{
			if(!wasMovingMouse)
			{
				if(animationFinish)
				{
					animationFinish = false;
					var target = event.target;
					var id = +target.getAttribute("id").split("-")[0];
					var category = categoryGrid.categoryes[id];
					if(!category.active)
					{
						category.active = true;
						categoryGrid.hide(function(){
						 	category.worksRendered?category.renderWorks():category.renderWorks(worksGrid);
						 	category.showWorks(function(){wasMovingMouse=false;animationFinish=true;result.reRenderHexGrid(hexGrid,categoryGrid);});
						 });
					}
					else
					{
						category.hideWorks(function(){categoryGrid.show(function(){wasMovingMouse=false;animationFinish = true; category.active = false;if(!categoryGrid.haveNotPlace){var event = new Event("resize");window.dispatchEvent(event);}});});
					}
				}else{return false;}
			}

		}
	}

		result.reRenderHexGrid = function(hexGrid,categoryGrid)
		{
			var nx = Math.ceil(categoryGrid.farawayPosX/categoryGrid.grid.widthHex)+1;
			var ny = Math.ceil(categoryGrid.farawayPosY/categoryGrid.grid.heightHexRow)+1;
			hexGrid.render(0,nx,ny);
		}


		result.supportClickWork = function(protoWorksGrid,categoryGrid,controll)
		{
			var catId = "";
			var work = {};
			protoWorksGrid.mousedown(function(event){
				protoWorksGrid.mouseup(function(event){
					if(!wasMovingMouse)
					{
						catId = event.target.getAttribute("id").split("-")[1];
						var workId = event.target.getAttribute("id").split("-")[0];
						work = categoryGrid.categoryes[catId].works[workId];
						controll.openView(work);

						//setTimeout(function(){controll.closeView();},2000);

						window.addEventListener("resize",resizeView);
						function resizeView(event)
						{
							if(controll.viewShowed)
							{
								controll.viewElement.attr({points:controll._initFirdCoords(work)});
								controll._setWorkImgPosition();
							}
						}
					}
				});
			});
		}

		result.supportControll = function(hexGrid,controll,categoryGrid)
		{
			controll.secondBtn.click(function(event){
				controll.hideControll(function(){controll.closeView(function(){categoryGrid.getDots();});});
			});
			controll.firstBtn.click(function(event){
				controll.previous();
			});
			controll.thirdBtn.click(function(event){
				controll.next();
			});

			window.addEventListener("click",function(event){
				if(!controll.viewShowed){return false;}
				if(controll.controllShowed)
				{
					var id = event.target.getAttribute("id");
					if(id!="firstBtnController" && id!="secondBtnController" && id !="thirdBtnController")
					controll.hideControll();
				}
				else
				{
					controll.showControll(getCenter(event));
				}
			});

			function getCenter(event)
			{

				var x = event.clientX;
				var y = event.clientY;
				
				var ny = Math.ceil((y /* hexGrid.indentTop*/  ) / hexGrid.heightHexRow);
				var nx = 0;

				if(ny%2==0)
				{
					nx = Math.ceil((x- hexGrid.indentLeft) / hexGrid.widthHex);
					x= nx*hexGrid.widthHex
				}else
				{
					nx = Math.ceil((x  - hexGrid.indentLeft) / hexGrid.widthHex);
					x  = nx*hexGrid.widthHex + hexGrid.indentLeft;
				}

				y = ny*hexGrid.heightHexRow-hexGrid.indentTop;

				return {x,y};
			}
		}

	return result;
})();

var snap              = Snap('#Container');
var body              = snap.g().attr("class","Body");
var groupHexGrid      = body.g().attr("class","HexGrid");
var groupHoverCategry = body.g().attr("class","hoverCategory");
var groupCategoryGrid = body.g().attr("class","CategoryGrid");
var protoWorksGrid    = body.g().attr("class","ProtoWorksGrid");
var workView          = body.g().attr("class","workView");
var controllContainer = body.g().attr("class","Controll");


var controll = new Controll({
	id:1,
	viewContainer:workView,
	container:controllContainer,
	body:body,
});

var hexGrid = new HexGrid({
	wWidth       : document.documentElement.clientWidth,
	wHeight      : document.documentElement.clientHeight,
	hexRadius    : 50
});

hexGrid.render(groupHexGrid);

var categoryGrid = new CategoryGrid({
	hexgrid : hexGrid,
	data:categoryes,
});
dependensis.supportHoverEffectHexGrid(groupHexGrid);
dependensis.supportMovingcategoryes(body,hexGrid,categoryGrid);

categoryGrid.render(groupCategoryGrid);

dependensis.supportHoverEffectCatrgoryes(categoryGrid,groupHoverCategry);
dependensis.supportRenderingHexGrid(hexGrid);
dependensis.supportResizingCategoryes(hexGrid,categoryGrid);

dependensis.supportClickCategory(categoryGrid,protoWorksGrid,hexGrid);
dependensis.supportClickWork(protoWorksGrid,categoryGrid,controll);
dependensis.supportControll(hexGrid,controll,categoryGrid);